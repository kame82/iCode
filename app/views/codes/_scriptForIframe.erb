<script>
  var iframeCssPath = "<%= asset_path('iframe.css') %>";

window.update_live_frame = function () {
  const html_editor_value = document.getElementById("editorSource_HTML").value;
  const css_editor_value = document.getElementById("editorSource_CSS").value;

  if (live_frame && live_frame.contentWindow && live_frame.contentWindow.document) {
    live_frame.contentWindow.document.body.innerHTML = html_editor_value;
    live_frame.contentWindow.document.head.innerHTML =
      '<link rel="stylesheet" href="' + iframeCssPath + '"></link>';
    live_frame.contentWindow.document.head.innerHTML += `<style>${css_editor_value}</style>`;
    live_frame.contentWindow.document.documentElement.classList.add("light");
    live_frame.contentWindow.document.body.classList.add(
      "bg-white",
      "border-2",
      "border-customGray",
      "p-4"
    );
  }
};

</script>
